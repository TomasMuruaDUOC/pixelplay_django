--
-- Create model Juego
--
CREATE TABLE "JUEGOS" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "NOMBRE" NVARCHAR2(100) NULL, "DESCRIPCION" NCLOB NULL, "PRECIO" NUMBER(10, 2) NOT NULL, "IMAGEN" NVARCHAR2(200) NULL, "CATEGORIA" NVARCHAR2(20) NULL, "FECHA_AGREGADO" TIMESTAMP NOT NULL);
--
-- Create model Usuario
--
CREATE TABLE "USUARIOS" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "PASSWORD" NVARCHAR2(128) NULL, "LAST_LOGIN" TIMESTAMP NULL, "IS_SUPERUSER" NUMBER(1) NOT NULL CHECK ("IS_SUPERUSER" IN (0,1)), "USERNAME" NVARCHAR2(150) NULL UNIQUE, "FIRST_NAME" NVARCHAR2(150) NULL, "LAST_NAME" NVARCHAR2(150) NULL, "EMAIL" NVARCHAR2(254) NULL, "IS_STAFF" NUMBER(1) NOT NULL CHECK ("IS_STAFF" IN (0,1)), "IS_ACIVE" NUMBER(1) NOT NULL CHECK ("IS_ACIVE" IN (0,1)), "DATE_JOINED" TIMESTAMP NOT NULL, "ROL" NVARCHAR2(10) NULL, "FECHA_NACIMIENTO" DATE NULL, "DIRECCION" NVARCHAR2(200) NULL);
CREATE TABLE "USUARIOS_GROUPS" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "USUARIO_ID" NUMBER(19) NOT NULL, "GROUP_ID" NUMBER(11) NOT NULL);
CREATE TABLE "USUARIOS_USER_PERMISSIONS" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "USUARIO_ID" NUMBER(19) NOT NULL, "PERMISSION_ID" NUMBER(11) NOT NULL);
--
-- Create model CarritoCompra
--
CREATE TABLE "CARRITO_COMPRAS" ("ID" NUMBER(19) GENERATED BY DEFAULT ON NULL AS IDENTITY NOT NULL PRIMARY KEY, "CANTIDAD" NUMBER(11) NOT NULL, "FECHA_AGREGADO" TIMESTAMP NOT NULL, "USUARIO_ID" NUMBER(19) NOT NULL, "JUEGO_ID" NUMBER(19) NOT NULL);
ALTER TABLE "USUARIOS_GROUPS" ADD CONSTRAINT "USUARIOS__USUARIO_I_A66C5EF3_U" UNIQUE ("USUARIO_ID", "GROUP_ID");
ALTER TABLE "USUARIOS_GROUPS" ADD CONSTRAINT "USUARIOS__USUARIO_I_1132CA50_F" FOREIGN KEY ("USUARIO_ID") REFERENCES "USUARIOS" ("ID") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USUARIOS_GROUPS" ADD CONSTRAINT "USUARIOS__GROUP_ID_18C61092_F" FOREIGN KEY ("GROUP_ID") REFERENCES "AUTH_GROUP" ("ID") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USUARIOS_G_USUARIO_ID_1132CA50" ON "USUARIOS_GROUPS" ("USUARIO_ID");
CREATE INDEX "USUARIOS_G_GROUP_ID_18C61092" ON "USUARIOS_GROUPS" ("GROUP_ID");
ALTER TABLE "USUARIOS_USER_PERMISSIONS" ADD CONSTRAINT "USUARIOS__USUARIO_I_474B33A5_U" UNIQUE ("USUARIO_ID", "PERMISSION_ID");
ALTER TABLE "USUARIOS_USER_PERMISSIONS" ADD CONSTRAINT "USUARIOS__USUARIO_I_232FD58D_F" FOREIGN KEY ("USUARIO_ID") REFERENCES "USUARIOS" ("ID") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "USUARIOS_USER_PERMISSIONS" ADD CONSTRAINT "USUARIOS__PERMISSIO_AF615CA1_F" FOREIGN KEY ("PERMISSION_ID") REFERENCES "AUTH_PERMISSION" ("ID") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "USUARIOS_U_USUARIO_ID_232FD58D" ON "USUARIOS_USER_PERMISSIONS" ("USUARIO_ID");
CREATE INDEX "USUARIOS_U_PERMISSION_AF615CA1" ON "USUARIOS_USER_PERMISSIONS" ("PERMISSION_ID");
ALTER TABLE "CARRITO_COMPRAS" ADD CONSTRAINT "CARRITO_C_USUARIO_I_2B18642F_F" FOREIGN KEY ("USUARIO_ID") REFERENCES "USUARIOS" ("ID") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "CARRITO_COMPRAS" ADD CONSTRAINT "CARRITO_C_JUEGO_ID_A615621A_F" FOREIGN KEY ("JUEGO_ID") REFERENCES "JUEGOS" ("ID") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "CARRITO_CO_USUARIO_ID_2B18642F" ON "CARRITO_COMPRAS" ("USUARIO_ID");
CREATE INDEX "CARRITO_CO_JUEGO_ID_A615621A" ON "CARRITO_COMPRAS" ("JUEGO_ID"); 